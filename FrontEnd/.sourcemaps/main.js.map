{"version":3,"sources":["../../src/pages/parametres/parametres.ts","../../src/mocks/FileBase.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/speedtest/SpeedtestBackgroundJob.ts","../../src/model/Mesure.model.ts","../../src/fs/AndroidConfigFile.ts","../../src/pages/map/map.ts","../../src/pages/details/details.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/speedtest/Speedtest.ts","../../util (ignored)","webpack:///util (ignored)?3918","../../buffer (ignored)","../../crypto (ignored)","../../src/conf/ConfConstants.ts","webpack:///crypto (ignored)?fbf2","../../src/service/IPService.ts","../../src/service/MeasureService.ts","../../src/service/MapService.ts","../../src/util/ColorsUtil.ts","../../node_modules/moment/locale ^/.*$","../../src/model/Reseau.model.ts","../../src/util/MathUtil.ts"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;ACtQA;AAAA;;GAEG;AACH;IAII,gBAAY,EAAS,EAAE,IAAW;QAC9B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;IACnB,CAAC;IACH,aAAC;AAAD,CAAC;;;;;;;;;;ACPH;AAAA,IAAI,mBAAmB,GAAG,mBAAO,CAAC,GAAiB,CAAC;AAGpD;IAAA;IA8CA,CAAC;IA7CG;;;OAGG;IACI,iCAAwB,GAA/B,UAAgC,OAAsB;QAClD,IAAI,OAAO,GAAW,CAAC,CAAC;QACxB,GAAG,EAAC,IAAI,CAAC,IAAI,OAAO,CAAC,EAAC;YAClB,IAAI,MAAM,GAAW,OAAO,CAAC,CAAC,CAAC,CAAC;YAChC,OAAO,IAAI,MAAM,CAAC,aAAa,CAAC;QACpC,CAAC;QACD,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;IACpC,CAAC;IAED;;;OAGG;IACI,4BAAmB,GAA1B,UAA2B,OAAsB;QAC7C,IAAI,MAAM,GAAgB,OAAO,CAAC,GAAG,CAAC,WAAC,IAAI,QAAK,EAAC,QAAQ,EAAG,CAAC,CAAC,GAAG,EAAE,SAAS,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,EAAC,CAAC,CAAC,EAAE,EAAC,GAAlD,CAAkD,CAAC,CAAC;QAC/F,IAAI,cAAc,GAAgB,mBAAmB,CAAC,MAAM,CAAC,CAAC;QAC9D,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;QAC3B,MAAM,CAAC,OAAO,CAAC,MAAM,CAAE,WAAC,IAAI,eAAQ,CAAC,YAAY,CAAC,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAvD,CAAuD,CAAE,CAAC;IAE1F,CAAC;IACc,qBAAY,GAA3B,UAA4B,KAAK,EAAE,IAAI,EAAE,KAAK;QAC1C,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YACtC,EAAE,EAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;gBAC1B,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;QACL,CAAC;QACD,MAAM,CAAC,CAAC,CAAC,CAAC;IACd,CAAC;IAEM,4BAAmB,GAA1B,UAA4B,IAAI,EAAG,KAAK,EAAG,IAAI,EAAG,KAAK;QACnD,IAAI,IAAI,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;cAC9C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,IAAI,GAAG,CAAC,IAAI,CAAC,GAAE,CAAC,GAAG,GAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC7B,IAAI,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QAC1B,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,6DAA6D;QAChF,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAEL,eAAC;AAAD,CAAC","file":"main.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { FileBase } from '../../mocks/FileBase';\r\nimport { ConfConstants } from '../../conf/ConfConstants';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Reseau } from '../../model/Reseau.model';\r\nimport { Mesure } from '../../model/Mesure.model';\r\nimport { MapPage } from '../map/map';\r\nimport { SpeedtestBackgroundJob } from '../../speedtest/SpeedtestBackgroundJob';\r\nimport { ALLOW_MULTIPLE_PLATFORMS } from '@angular/core/src/application_ref';\r\nimport { AndroidConfigFile } from '../../fs/AndroidConfigFile';\r\nimport { File } from '@ionic-native/file';\r\n\r\n@Component({\r\n  selector: 'page-parametres',\r\n  templateUrl: 'parametres.html',\r\n})\r\n/**\r\n * Page des paramètres\r\n */\r\nexport class ParametresPage {\r\n\r\n \r\n  bandePassante : any = 0;\r\n  freqEchantillon : number = 0;\r\n  distanceRecherche :any = 0;\r\n  activerWifi:boolean = true;\r\n  activer4G:boolean = true;\r\n  afficherZones:boolean=true;\r\n  collecteAuto:boolean=true;\r\n  mode:string=\"\";\r\n  mapPage:MapPage;\r\n  networks:Array<Reseau> = new Array<Reseau>();\r\n  static selectedNetwork:Reseau;\r\n\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n    this.mapPage = (navParams.get('mapPage'));\r\n    this.networks = [];\r\n    this.mapPage.getNetworksMap().forEach((value: Array<Mesure>, key: Reseau) => {\r\n      this.networks.push(key)\r\n  });\r\n\r\n  if(this.networks.length > 0 && ParametresPage.selectedNetwork == null){\r\n    ParametresPage.selectedNetwork = this.networks[0];\r\n  }\r\n  }\r\n  getSelectedNetwork(){\r\n    return ParametresPage.selectedNetwork;\r\n  }\r\n/**\r\n * Chargement de l'interface\r\n */\r\n  async ionViewDidLoad() {\r\n    let parametersString = ConfConstants.IS_PROD ? await new AndroidConfigFile(new File()).readAsText(): await FileBase.readAsText(ConfConstants.SETTINGS_FILENAME)\r\n    let params = JSON.parse(parametersString);\r\n    this.bandePassante = parseFloat(params[\"bande_passante_minimale\"]);\r\n    this.distanceRecherche = parseFloat(params[\"rayon_recherche\"]);\r\n    this.activerWifi = params[\"wifi\"];\r\n    this.activer4G = params[\"mobile\"];\r\n    this.afficherZones = params[\"afficher_zones\"];\r\n    this.collecteAuto = params[\"collecte_auto\"];\r\n    this.freqEchantillon = parseFloat(params[\"frequence\"]);\r\n    this.mode = this.freqEchantillon != null ? \"echantillon\" : \"demandeServ\";\r\n  }\r\n\r\nselectNewNetwork(network){\r\n  console.log(\"called\")\r\n  console.log(network)\r\n  ParametresPage.selectedNetwork = network;\r\n  this.mapPage.setDisplayedPoints(network);\r\n  this.mapPage.clearMapIfNeeded(network);\r\n}\r\n/**\r\n * Sauvegarde des paramètres\r\n */\r\n  async validateParams(){\r\n    console.log(\"serializing :\")\r\n    // maj config\r\n    var savedParams = {\r\n      \"wifi\" : this.activerWifi,\r\n      \"mobile\" : this.activer4G,\r\n      \"bande_passante_minimale\": parseFloat(this.bandePassante),\r\n      \"rayon_recherche\": parseFloat(this.distanceRecherche),\r\n      \"afficher_zones\" : this.afficherZones,\r\n      \"collecte_auto\":this.collecteAuto,\r\n      \"frequence\":this.freqEchantillon\r\n    };\r\n    console.log(savedParams);\r\n    if(ConfConstants.IS_PROD){\r\n      await new AndroidConfigFile(new File()).writeExistingFile(\r\n        JSON.stringify(savedParams)\r\n      );\r\n    }\r\n    else {\r\n      await FileBase.writeExistingFile(ConfConstants.SETTINGS_FILENAME, \"\", \r\n        JSON.stringify(savedParams)\r\n      );\r\n    }\r\n  }\r\n  \r\n async updateMap(){\r\n    // maj carte\r\n    ParametresPage.selectedNetwork = null;\r\n    this.networks = [];\r\n    this.mapPage.fillMapMarkers();\r\n    this.navCtrl.pop();\r\n }\r\n async updateDataCollect(){\r\n    let backgroundJob : SpeedtestBackgroundJob = \r\n          SpeedtestBackgroundJob.getBackgroundJobInstance(parseFloat(<any>(this.freqEchantillon)), this.collecteAuto);\r\n    backgroundJob.setActive(this.collecteAuto);\r\n    await backgroundJob.updateBackgroundJob();\r\n    await this.validateParams();\r\n  }\r\n\r\n  async updateDataFrequency(){\r\n    SpeedtestBackgroundJob.getBackgroundJobInstance(parseFloat(<any>(this.freqEchantillon)), this.collecteAuto);\r\n    await this.validateParams();\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/parametres/parametres.ts","/**\r\n * Classe de mock pour l'accès aux fichiers du téléphone\r\n */\r\nexport class FileBase {\r\n  static settingsMock : any = {\r\n    \"wifi\" : true,\r\n    \"mobile\" : false,\r\n    \"bande_passante_minimale\": 5,\r\n    \"rayon_recherche\": 0.5,\r\n    \"afficher_zones\" : true,\r\n    \"collecte_auto\":true,\r\n    \"frequence\":0.25\r\n  };\r\n  constructor(){\r\n  }\r\n  static async readAsText(fileName){\r\n    return new Promise<string>((resolve, reject) => {\r\n      resolve(JSON.stringify(this.settingsMock));\r\n    })\r\n  }\r\n\r\n  static async writeExistingFile(path: string, fileName: string, text: string | Blob): Promise<void>{\r\n    return new Promise<void>((resolve, reject) => {\r\n      this.settingsMock = JSON.parse(text.toString());\r\n      resolve();\r\n    })\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mocks/FileBase.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 267;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 267\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 311;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 311\n// module chunks = 0","import { SpeedTest } from \"./Speedtest\";\r\nimport { Mesure } from \"../model/Mesure.model\";\r\nimport { IPService } from \"../service/IPService\";\r\nimport { Network } from \"@ionic-native/network\";\r\nimport { ConfConstants } from \"../conf/ConfConstants\";\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { Geoposition } from '@ionic-native/geolocation';\r\nimport { Reseau } from \"../model/Reseau.model\";\r\nimport { MeasureService } from \"../service/MeasureService\";\r\n\r\n/**\r\n * Job exécuté en arrière plan pour récupérer les infos de speedtest\r\n */\r\ndeclare var WifiWizard2: any;\r\n\r\nexport class SpeedtestBackgroundJob {\r\n  frequencyInMinutes :number;\r\n  timeout:any;\r\n  static instance:SpeedtestBackgroundJob;\r\n  active:boolean;\r\n  constructor(frequencyInMinutes){\r\n    this.frequencyInMinutes = frequencyInMinutes;\r\n  }\r\n\r\n  /** Obtient une nouvelle instance ou l'instance existante mise à jour */\r\n  static getBackgroundJobInstance(frequencyInMinutes, active):SpeedtestBackgroundJob{\r\n    if(SpeedtestBackgroundJob.instance == null){\r\n      SpeedtestBackgroundJob.instance = new SpeedtestBackgroundJob(frequencyInMinutes);\r\n    }\r\n    else {\r\n      SpeedtestBackgroundJob.instance.frequencyInMinutes = frequencyInMinutes;\r\n    }\r\n    SpeedtestBackgroundJob.instance.setActive(active);\r\n    return SpeedtestBackgroundJob.instance;\r\n  }\r\n  setActive(active){\r\n    this.active = active;\r\n  }\r\n  /** Annulation de la collecte */\r\n  clearBackgroundJob(){\r\n    clearTimeout(this.timeout);\r\n  }\r\n\r\n  /** MAJ du processus en arrière-plan */\r\n  async updateBackgroundJob(){\r\n    var that = this;\r\n    if(this.active){\r\n      that.timeout = setTimeout(async function () {\r\n        await that.sendWifiAndLocData(that);\r\n        that.updateBackgroundJob();\r\n      } , (this.frequencyInMinutes * 60 * 1000));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Envoi des données du téléphone vers le backend\r\n   * @param that cette instance d'objet\r\n   */\r\n  async sendWifiAndLocData(that:SpeedtestBackgroundJob){\r\n    var type;\r\n    var ssid;\r\n    var latitude;\r\n    var longitude;\r\n    var signal;\r\n    if(ConfConstants.IS_PROD){\r\n       // Ce code ne marchera pas avec un npm run ionic:serve classique (ni cordova run browser)\r\n      console.log(\"CALLING GSM SIGNAL\")\r\n      signal = await that.getGSMSignal(<any>(window));   //tslint\r\n      console.log(\"FINAL SIGNAL = \" + signal)\r\n  //    if(signal == -1) return;  // TODO déterminer que faire en cas d'erreur de récupération GSM\r\n      // TODO tester cette partie sous android\r\n      var network = new Network();\r\n      console.log(\"TYPE\")\r\n      var networkType = network.type;\r\n      console.log(networkType)\r\n      if(networkType == \"3g\" || networkType == \"4g\" || networkType == \"5g\") {\r\n        type = \"mobile\";    \r\n      } else if (type==undefined) type = \"wifi\";       // plugin error\r\n      try {\r\n        console.log(\"wifiwizard = \")\r\n        console.log(WifiWizard2);\r\n        ssid = await WifiWizard2.getConnectedSSID(); \r\n        console.log(\"ssid = \" + ssid);\r\n        }\r\n        catch(ex){        // Pas de connexion à un réseau wifi\r\n          console.log(\"could not get ssid :\" + ex);\r\n          ssid = (type == \"mobile\" ? networkType : \"INCONNU\"); \r\n          console.log(\"final ssid = \" + ssid);\r\n        }\r\n      console.log(\"final type = \" + type);\r\n      console.log(\"GEOLOC\");\r\n      var geolocation = new Geolocation();\r\n      let position: Geoposition = await geolocation.getCurrentPosition();\r\n      console.log(position);\r\n      latitude = position.coords.latitude;\r\n      console.log(latitude);\r\n      longitude = position.coords.longitude;\r\n      console.log(longitude);\r\n    }\r\n    else {\r\n      ssid = \"TEST_DEV\";\r\n      latitude = 45.784535;\r\n      longitude = 4.882980;\r\n      type = \"wifi\";\r\n      signal = -85;\r\n    }     // TODO décider si la mesure doit s'afficher directement ou pas sur la carte ?\r\n    let bandwidth:number = <number> (await new SpeedTest().getNetworkBandwidth());\r\n    console.log(\"bandwidth is \" + bandwidth);\r\n    var myIp = <any>(await new IPService().getMyIp());\r\n    myIp = myIp.ip;\r\n    var measure = new Mesure(null, latitude, longitude, new Date(), bandwidth, signal, null, null, new Array());\r\n    await new MeasureService().sendMeasure(measure, ssid, myIp, type);\r\n    \r\n  }\r\n  // retourne le signal Wifi actuellement capté\r\nasync getGSMSignal(window:any){\r\n  return new Promise<number>(resolve => {\r\n    window.SignalStrength.dbm(function(measuredDbm){\r\n      console.log(\"MEASURED \" + measuredDbm),\r\n      resolve(measuredDbm);\r\n    });\r\n  });\r\n}\r\n\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/speedtest/SpeedtestBackgroundJob.ts","import { Reseau } from \"./Reseau.model\";\r\n\r\n/**\r\n * Représentation interne d'une mesure\r\n */\r\nexport class Mesure {\r\n  id:number;\r\n  lat : number;\r\n  lon : number;\r\n  date : Date ;\r\n  bandePassante : number;\r\n  force : number;\r\n  colorUrl:string;\r\n  bandePassanteAvg : number;\r\n  reseau:Reseau;\r\n  mesuresPassees: Array<any>;    // les mesures précédentes historisées\r\n  \r\n  constructor(id:number, la : number, lo : number, dat : Date, bp : number, forc : number, color:string, reseau : Reseau, mesuresPassees){\r\n    this.id = id;\r\n    this.bandePassante = bp;\r\n    \r\n    this.date = dat;\r\n    this.lon = lo;\r\n    this.lat = la;\r\n    this.force = forc;\r\n    this.colorUrl = 'http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|' + color;\r\n    this.bandePassanteAvg = Math.round(bp);\r\n    this.reseau = reseau;\r\n    this.mesuresPassees = mesuresPassees;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/Mesure.model.ts","import { FileBase } from \"../mocks/FileBase\";\r\nimport {File} from '@ionic-native/file';\r\nimport { rejects } from \"assert\";\r\nimport { fsync } from \"fs\";\r\n/**\r\n * Classe d'accès au fichier de configuration sur le téléphone\r\n */\r\ndeclare var cordova: any;\r\n\r\nexport class AndroidConfigFile extends FileBase {\r\n    constructor(private file : File){\r\n        super();\r\n        console.log(\"object created\");\r\n    }\r\n    /**Ecriture dans le fichier de configuration */\r\n    async writeExistingFile(text: string | Blob): Promise<void>{\r\n      return new Promise<void>((resolve, reject) => {\r\n        var localWindow = <any> window;\r\n        localWindow.requestFileSystem(localWindow.PERSISTENT, 0, function (fs) {\r\n          fs.root.getFile(\"connectme.json\", {create: false, exclusive: false}, function(fileEntry) {\r\n            console.log(\"connectme.json exists.\");\r\n            console.log(fileEntry);\r\n            fileEntry.createWriter(function (fileWriter) {\r\n              fileWriter.onwriteend = function() {\r\n                console.log(\"Successful file write...\");\r\n                resolve();\r\n              }\r\n              fileWriter.onerror = function (e) {\r\n                console.log(\"Failed file write: \" + e.toString());\r\n                reject(null);\r\n            };\r\n            fileWriter.write((text));\r\n            });\r\n          }, function(err){\r\n            console.log('getFile() failed !')\r\n            console.log(err);\r\n            reject(null);\r\n          }), \r\n          function(err) {\r\n            console.log(\"error accessing file system!\")\r\n            console.log(err);\r\n            reject(null);\r\n          }});\r\n    });\r\n  }\r\n    /**\r\n     *  Obtention des paramètres de l'application et création du fichier de configuration s'il n'existe pas\r\n     */\r\n    async readAsText(){\r\n      var that = this;\r\n      return new Promise<string>((resolve, reject) => {\r\n        console.log(cordova);\r\n        var localWindow = <any> window;\r\n        localWindow.requestFileSystem(localWindow.PERSISTENT, 0, function (fs) {\r\n          console.log('file system open: ' + fs.name);\r\n          fs.root.getFile(\"connectme.json\", { create: false }, function(fileEntry){\r\n            console.log(\"file EXISTS !\")\r\n            fileEntry.file(function (file) {\r\n              var reader = new FileReader();\r\n              reader.onloadend = function() {\r\n                  console.log(\"Successful file read: \");\r\n                  console.log(this.result);\r\n                  resolve(this.result.toString());\r\n              };\r\n              reader.readAsText(file);\r\n          }, function(){\r\n            fs.root.getFile(\"connectme.json\", {create: true, exclusive: false}, function(fileEntry) {\r\n              console.log(\"file DOES NOT EXIST !\")\r\n              console.log(\"successfully created connectme.json\");\r\n              console.log(fileEntry);\r\n              fileEntry.createWriter(function (fileWriter) {\r\n                fileWriter.onwriteend = function() {\r\n                  console.log(\"Successful file write...\");\r\n                  fileEntry.file(function (file) {\r\n                    var reader = new FileReader();\r\n                    reader.onloadend = function() {\r\n                        console.log(\"Successful file read: \");\r\n                        console.log(this.result);\r\n                        resolve(this.result.toString());\r\n                    };\r\n                    reader.readAsText(file);\r\n                }, function(e){console.log(\"failed to read file : \" + e); reject(null);});\r\n                };\r\n                fileWriter.onerror = function (e) {\r\n                    console.log(\"Failed file write: \" + e.toString());\r\n                    reject(null);\r\n                };\r\n                fileWriter.write(JSON.stringify(FileBase.settingsMock));\r\n              });\r\n          });\r\n       //     this.writeFile(fileEntry, null, isAppend);\r\n        }, function(err){\r\n          console.log('getFile() failed !')\r\n          console.log(err);\r\n          reject(null);\r\n        });\r\n      }, function(err) {\r\n          console.log(\"error accessing file system!\")\r\n          console.log(err);\r\n          reject(null);\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n  \r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/fs/AndroidConfigFile.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport {Mesure} from \"../../model/Mesure.model\";\r\nimport { MapService } from '../../service/MapService';\r\nimport { ColorsUtil } from '../../util/ColorsUtil';\r\nimport { JSONFileAccess } from '../../settings/JSONFileAccess';\r\nimport { FileBase } from '../../mocks/FileBase';\r\nimport{DetailPage} from '../details/details';\r\nimport{ParametresPage} from '../parametres/parametres';\r\nimport { Reseau } from '../../model/Reseau.model';\r\nimport { ConfConstants } from '../../conf/ConfConstants';\r\nimport { SpeedTest } from '../../speedtest/Speedtest';\r\nimport { SpeedtestBackgroundJob } from '../../speedtest/SpeedtestBackgroundJob';\r\nimport { AndroidConfigFile } from '../../fs/AndroidConfigFile';\r\nimport { File } from '@ionic-native/file';\r\nimport { MathUtil } from '../../util/MathUtil';\r\nimport { stringify } from '@angular/compiler/src/util';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { Geoposition } from '@ionic-native/geolocation';\r\nimport { isTrueProperty } from 'ionic-angular/umd/util/util';\r\n@Component({\r\n  selector: 'page-map',\r\n  templateUrl: 'map.html',\r\n})\r\n/**\r\n * Page de la carte principale\r\n */\r\nexport class MapPage {\r\n  map: google.maps.Map;\r\n  /**Les points actuellement affichés par la carte */\r\n  points : Array<Mesure> =new Array<Mesure>();\r\n  /** Cache des points en attente d'être affichés  */\r\n  cachedPoints: Array<Mesure> = new Array<Mesure>();\r\n  /** Toutes les mesures des réseaux */\r\n  network2Points: Map<Reseau, Array<Mesure>> = new Map<Reseau, Array<Mesure>>();\r\n  mapService : MapService = new MapService();\r\n  displayedPolygons : Array<google.maps.Polygon> = new Array();\r\n  //TODO use cordova geolocation later\r\n  currentLat:number = 45.784535;\r\n  currentLng:number = 4.882980;\r\n  mapLoadingClass:string = \"\";\r\n  optionsEnabled:boolean = true;\r\n  \r\n constructor(  public navCtrl: NavController) {\r\n\r\n   // this.points.push(new Mesure(50,50,\"10/10/10\",10,10));\r\n  }\r\n\r\n  // Appel asynchrone au chargement de la carte\r\n  async ionViewDidLoad(){\r\n    await this.fillMapMarkers();\r\n    var settings : any= ConfConstants.IS_PROD ? await new AndroidConfigFile(new File()).readAsText(): await FileBase.readAsText(ConfConstants.SETTINGS_FILENAME)\r\n    SpeedtestBackgroundJob.getBackgroundJobInstance(JSON.parse(settings).frequence,JSON.parse(settings).collecte_auto).updateBackgroundJob(); \r\n  }\r\n\r\n/**\r\n * Remplissage des points de la carte\r\n */\r\n  async fillMapMarkers(){\r\n    this.optionsEnabled = false;\r\n    this.points = new Array<Mesure>();\r\n    this.cachedPoints = new Array<Mesure>();\r\n    this.network2Points = new Map<Reseau, Array<Mesure>>();\r\n    this.mapLoadingClass = 'blurrWrapperLoadingEffect';\r\n    var settings : any= ConfConstants.IS_PROD ? await new AndroidConfigFile(new File()).readAsText(): await FileBase.readAsText(ConfConstants.SETTINGS_FILENAME)\r\n    settings = <any> (JSON.parse(settings));\r\n    console.log(settings)\r\n    var networksPoints;\r\n    if(ConfConstants.IS_PROD){\r\n      var geolocation = new Geolocation();\r\n      let position: Geoposition = await geolocation.getCurrentPosition();\r\n      networksPoints = await this.mapService.getMapDatas(\tsettings,position.coords.latitude, position.coords.longitude);\r\n    }\r\n    else {\r\n      networksPoints = await this.mapService.getMapDatas(\tsettings,this.currentLat, this.currentLng);\r\n    }\r\n    console.log(networksPoints)\r\n    for(var network in networksPoints){\r\n      var reseau = new Reseau( networksPoints[network][\"id_reseau\"],  networksPoints[network][\"ssid\"]);\r\n      var measures = new Array<Mesure>();\r\n      var zones = networksPoints[network][\"zones\"];\r\n      for (var key in zones ) {\r\n        if (networksPoints[network][\"zones\"].hasOwnProperty(key)) {\r\n            if(key != \"zone-1\"){      //Suppression du bruit\r\n              var colorZone = ColorsUtil.getRandomColor();\r\n              let historyBandePassante = new Array();\r\n              for(var zoneInfoIndx in zones[key]){\r\n                var latitude = zones[key][zoneInfoIndx].latitude;\r\n                var longitude = zones[key][zoneInfoIndx].longitude;\r\n                var arrSubMesures = new Array();\r\n                let msArray : Array<any> = zones[key][zoneInfoIndx].mesures;\r\n                let measure = new Mesure(msArray[0].idmesure, latitude, longitude, \r\n                              msArray[0].datemesure, Math.round(msArray[0].bandepassante* 100) /100, \r\n                              msArray[0].forcesignal, colorZone, reseau, msArray);\r\n                measures.push(measure);\r\n              }\r\n              this.network2Points.set(reseau, measures);\r\n            }\r\n        }\r\n      }\r\n    }\r\n    this.mapLoadingClass=\"\";\r\n    if(this.network2Points.size > 0){\r\n      this.cachedPoints =  Array.from(this.network2Points)[0][1];   \r\n      ParametresPage.selectedNetwork = Array.from(this.network2Points)[0][0];\r\n      this.updateZones();\r\n    }\r\n    else {\r\n      this.cachedPoints = new Array<Mesure>();\r\n    }\r\n    if(this.map.getZoom() >= ConfConstants.MAP_MIN_ZOOM_LEVEL){\r\n      this.points = this.cachedPoints.slice();    // copie des mesures en cache\r\n    }\r\n    this.optionsEnabled = true;\r\n  }\r\n  \r\n  setDisplayedPoints(network){\r\n    this.cachedPoints = this.network2Points.get(network);\r\n    this.updateZones();\r\n  }\r\n\r\n  clearMapIfNeeded(network){\r\n    if(ConfConstants.MAP_MIN_ZOOM_LEVEL >= this.map.getZoom()){\r\n       this.points = this.network2Points.get(network);\r\n    }\r\n    else {\r\n      this.points = new Array();\r\n    }\r\n  }\r\n\r\n  updateZones(){\r\n\r\n    for(var pol in this.displayedPolygons){\r\n      this.displayedPolygons[pol].setMap(null);     // Supprime les anciens polygones\r\n    }\r\n    let map = new Map<String, Array<Mesure>>();\r\n    for(var po in this.cachedPoints){       // répartition par zone\r\n      let mes : Mesure = this.cachedPoints[po];\r\n      if(!map.has(mes.colorUrl)){\r\n        let arr = new Array<Mesure>();\r\n        arr.push(mes);\r\n        map.set(mes.colorUrl, arr);\r\n      } else map.get(mes.colorUrl).push(mes);\r\n    }\r\n    this.displayedPolygons = new Array();\r\n    var that = this;\r\n    map.forEach((value, key) => {\r\n      var polygonePoints = MathUtil.getEnveloppeConvexe(map.get(key));\r\n      var pointsToDisplay = polygonePoints.map(m => new google.maps.LatLng(m.lat, m.lon)).sort(function(a,b) {\r\n        let centerPoint : Mesure = that.cachedPoints[0];\r\n        if (MathUtil.angleFromCoordinate(a.lat(),a.lng(), centerPoint.lat, centerPoint.lon) <\r\n            MathUtil.angleFromCoordinate(b.lat(),b.lng(), centerPoint.lat, centerPoint.lon))\r\n            return -1;\r\n        if (MathUtil.angleFromCoordinate(a.lat(),a.lng(), centerPoint.lat, centerPoint.lon) > \r\n            MathUtil.angleFromCoordinate(b.lat(),b.lng(), centerPoint.lat, centerPoint.lon))\r\n            return 1;\r\n        return 0;\r\n      });\r\n      var percentage = Math.max(\r\n        Math.min(MathUtil.moyenneBandePassanteZone(map.get(key)) /ConfConstants.OPTIMAL_BANDWIDTH_MAP * 100, 100),0);\r\n      var colorZone = ColorsUtil.getColorForPercentage(percentage / 100);\r\n      var polygon = new google.maps.Polygon({\r\n        paths: pointsToDisplay,\r\n        strokeColor: colorZone,\r\n        strokeOpacity: 0.8,\r\n        strokeWeight: 2,\r\n        fillColor: colorZone,\r\n        fillOpacity: 0.35      \r\n      });\r\n      polygon.setMap(this.map);\r\n      this.displayedPolygons.push(polygon)\r\n    });\r\n  }\r\n\r\n  getNetworksMap(){\r\n    return this.network2Points;\r\n  }\r\n\r\n  /**\r\n   * Chargement de la carte\r\n   * @param map la carte\r\n   */\r\n  mapReady(map){\r\n    this.map = map;\r\n    this.map.setCenter(new google.maps.LatLng(this.currentLat, this.currentLng));\r\n    this.map.setZoom(15);\r\n    /* Change markers on zoom */\r\n    var that = this;\r\n    google.maps.event.addListener(that.map, 'zoom_changed', function() {\r\n      var zoom = map.getZoom();\r\n      if(zoom >= ConfConstants.MAP_MIN_ZOOM_LEVEL){\r\n        that.points= that.cachedPoints.slice();\r\n      }\r\n      else {\r\n        that.points = new Array<Mesure>();\r\n      }\r\n    });\r\n  }\r\n\r\n  details(clickedMarker){\r\n    console.log(\"marker is \" + clickedMarker)\r\n    this.navCtrl.push(DetailPage, {\r\n        marker:this.cachedPoints.find(function(element) {\r\n          return element.id == clickedMarker;\r\n        })\r\n    });\r\n  }\r\n\r\n  settings(){\r\n    this.navCtrl.push(ParametresPage, {\r\n      mapPage: this\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts","import { Component, ViewChild } from '@angular/core';\r\nimport {Mesure} from \"../../model/Mesure.model\";\r\nimport { ColorsUtil } from '../../util/ColorsUtil';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport {Chart} from 'chart.js';\r\n@Component({\r\n  selector: 'page-details',\r\n  templateUrl: 'details.html',\r\n})\r\nexport class DetailPage {\r\n\r\n  mesure : Mesure;\r\n  reseau : string;\r\n  detailsMap:google.maps.Map;\r\n  @ViewChild('lineCanvasBandwidth') lineCanvas;\r\n  @ViewChild('lineCanvasSignal') lineCanvasSignal;\r\n  lineChart: any;\r\n  lineChartSignal: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n    console.log(\"created\")\r\n    this.mesure = (navParams.get('marker'));\r\n    console.log(this.mesure)\r\n    this.reseau=this.mesure.reseau.ssid;\r\n  }\r\n  ionViewDidLoad(){\r\n    console.log(this.lineCanvas)\r\n    this.lineChart = new Chart(this.lineCanvas.nativeElement, {\r\n        type: 'line',\r\n        data: [{\r\n            x: 10,\r\n            y: 20\r\n        }, {\r\n            x: 15,\r\n            y: 10\r\n        }],\r\n        options: {\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                        beginAtZero:true\r\n                    }\r\n                }]\r\n            },\r\n        }\r\n\r\n    });\r\n    this.lineChartSignal = new Chart(this.lineCanvasSignal.nativeElement, {\r\n        type: 'line',\r\n        data: [{\r\n            x: 10,\r\n            y: 20\r\n        }, {\r\n            x: 15,\r\n            y: 10\r\n        }],\r\n        options: {\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                        beginAtZero:true\r\n                    }\r\n                }]\r\n            },\r\n        }\r\n\r\n    });\r\n  }\r\n \r\n  /**\r\n   * Chargement de la carte\r\n   * @param map la carte\r\n   */\r\n  mapReady(map){\r\n    this.detailsMap = map;\r\n    let center = new google.maps.LatLng(this.mesure.lat, this.mesure.lon);\r\n    this.detailsMap.setCenter(center);\r\n    this.detailsMap.setZoom(17);\r\n    this.detailsMap.panTo(center);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details/details.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\n\r\nimport { DetailPage} from \"../pages/details/details\";\r\nimport { ParametresPage} from \"../pages/parametres/parametres\";\r\nimport {MapPage } from \"../pages/map/map\";\r\n\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { HttpModule } from '@angular/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport {File} from '@ionic-native/file';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { GeolocationMock } from '@ionic-native-mocks/geolocation';\r\nimport { Network } from '@ionic-native/network';\r\n\r\n@NgModule({\r\n\r\n  declarations: [\r\n    MyApp,\r\n    DetailPage,\r\n    ParametresPage,\r\n\r\n    MapPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n\r\n   HttpModule ,\r\n    HttpClientModule,\r\n    IonicModule.forRoot(MyApp),\r\n    AgmCoreModule.forRoot({\r\n      apiKey: 'AIzaSyDTLkCuDTOPlSK32-u3Xo0RpuKMjKZiet0'\r\n    })\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    DetailPage,\r\n    ParametresPage,\r\n    MapPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Network,\r\n    File,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    {provide: Geolocation, useClass: GeolocationMock }\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild  } from '@angular/core';\r\nimport {  Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\n\r\nimport {ParametresPage} from \"../pages/parametres/parametres\";\r\nimport {MapPage} from \"../pages/map/map\";\r\n\r\nimport { NavController } from 'ionic-angular';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  @ViewChild('myNav') nav: NavController;\r\n  rootPage: any = MapPage;\r\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\r\n    this.initializeApp();\r\n    platform.ready().then(() => {\r\n      this.rootPage = MapPage;    // don't forget to import this page\r\n    });\r\n   // this.nav.push(this.rootPage);\r\n  }\r\n  ngOnInit() {\r\n    // Let's navigate from TabsPage to Page1\r\n   // this.nav.push(this.rootPage);\r\n  }\r\n\r\n\r\n\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n    });\r\n  }\r\n  navigateToParam(){\r\n\r\n    this.nav.push(ParametresPage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","\r\n/**\r\n * Gestion des services de base d'accès aux données du front-end\r\n */\r\n\r\nimport { ConfConstants } from '../conf/ConfConstants';\r\nimport * as request  from \"request\";\r\n\r\nexport class SpeedTest {\r\n\r\n  constructor(){\r\n  }\r\n\r\n  // Récupère la bande passante mesurée actuele du réseau en téléchargement\r\n  async getNetworkBandwidth(){    \r\n    return new Promise(function (resolve, reject) {\r\n       var startTime = new Date().getTime();\r\n       var speedtestUrl = ConfConstants.BACKEND_URL + ConfConstants.SPEEDTEST_URL;\r\n        request.get(speedtestUrl, {\r\n            headers: {\r\n                \"Content-Type\" : \"application/x-www-form-urlencoded\"\r\n            },\r\n        },   \r\n        function (error, response, body) {\r\n            var downloadSize = 4995374;\r\n            var endTime = new Date().getTime();\r\n            if (error) {\r\n                console.error('getImage() failed:', error);\r\n                reject(null);\r\n            }\r\n            var duration = (endTime - startTime) / 1000;\r\n            var bitsLoaded = downloadSize * 8;\r\n            let speedMBps:number = parseFloat(((bitsLoaded / duration)/ 1024/ 1024).toFixed(2));\r\n            console.log(\"speed is : \" + speedMBps);\r\n            resolve(speedMBps);\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/speedtest/Speedtest.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 711\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 713\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// buffer (ignored)\n// module id = 745\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 746\n// module chunks = 0","/**\r\n * Gestion des constantes de configuration du front\r\n */\r\nexport class ConfConstants {\r\n  public static get IS_PROD() : boolean { return true; }\r\n//  public static get BACKEND_PORT():number  { return 80; }\r\n  public static get BACKEND_URL():string { return ConfConstants.IS_PROD ? \"https://connectme.julien-emmanuel.com/\" : \"http://localhost:80/\"}\r\n  public static get MAPDATAS_URL():string { return \"getMap\"; }\r\n  public static get MY_IP_URL():string { return \"ip\"; }\r\n  public static get SPEEDTEST_URL():string { return \"speedtest\"; }\r\n  public static get CREATE_MEASURE_URL():string { return \"createMeasure\"; }\r\n  public static get SETTINGS_FILENAME() : string {return \"www/assets/settings.json\"; }\r\n  public static get OPTIMAL_BANDWIDTH_MAP():number {return 20;}\r\n  public static get MAP_MIN_ZOOM_LEVEL():number {return 17;}\r\n  /*public static get SPEEDTEST_IMAGE_URL() : string {return \"http://www.kenrockwell.com/contax/images/g2/examples/31120037-5mb.jpg\"; }\r\n  public static get SPEEDTEST_BYTES_TO_DOWNLOAD() : number {return 4995374; }*/\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/conf/ConfConstants.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 812\n// module chunks = 0","/**\r\n * Gestion des services de base d'accès aux données du front-end\r\n */\r\nimport * as request  from \"request\";\r\nimport * as conf from '../conf/ConfConstants';\r\n\r\nexport class IPService {\r\n  constructor(){}\r\n\r\n  /**\r\n   * Récupération données de la carte\r\n   * @param parameters les paramètres de l'application\r\n   * @param longitude la longitude actuelle\r\n   * @param latitude la latitude actuelle\r\n   */\r\n  async getMyIp(){\r\n    var mapDatasUrl = conf.ConfConstants.BACKEND_URL + conf.ConfConstants.MY_IP_URL;\r\n    try{\r\n      console.log(\"connecting to \" + mapDatasUrl);\r\n      var postData = {};\r\n      return await httpJsonRequest(postData, mapDatasUrl, \"GET\")\r\n  }\r\n  catch(ex){\r\n    console.log(\"ERROR getting ip data : \" + ex)\r\n    return null;\r\n  }\r\n}\r\n}\r\n\r\n/**\r\n * Requête JSON vers le backend\r\n * @param jsonData les paramètres de requêtes \r\n * @param url l'URL du backend\r\n * TODO refactor\r\n */\r\nasync function httpJsonRequest(jsonData, url, endpointMethod){\r\n  return new Promise(function (resolve, reject) {\r\n    request.post(url, {\r\n      method:endpointMethod,\r\n      form: JSON.stringify(jsonData),\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Content-Length': JSON.stringify(jsonData).length,\r\n      },\r\n  },   \r\n  function (error, response, body) {\r\n    console.log(\"finished\")\r\n    if (error) {\r\n      console.error('getIP failed:', error);\r\n      reject(null);\r\n    }\r\n    resolve(JSON.parse(body));\r\n  });\r\n  });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/IPService.ts","/**\r\n * Gestion des services de base d'accès aux données du front-end\r\n */\r\nimport * as request  from \"request\";\r\nimport * as conf from '../conf/ConfConstants';\r\nimport { Mesure } from \"../model/Mesure.model\";\r\n\r\nexport class MeasureService {\r\n  constructor(){}\r\n\r\n  /**\r\n   * Récupération données de la carte\r\n   * @param parameters les paramètres de l'application\r\n   * @param longitude la longitude actuelle\r\n   * @param latitude la latitude actuelle\r\n   */\r\n  async sendMeasure(mesure : Mesure, ssid, ip, type){\r\n    var measureCreateURL = conf.ConfConstants.BACKEND_URL + conf.ConfConstants.CREATE_MEASURE_URL;\r\n    try{\r\n      console.log(\"connecting to \" + measureCreateURL);\r\n      var postData = {\r\n            'ssid' : ssid,\r\n            'ip' : ip, \r\n            'type' : type,\r\n            'bande_passante' : mesure.bandePassante,\r\n            'force' : mesure.force,\r\n            'lat' : mesure.lat,\r\n            'lon' : mesure.lon\r\n      };\r\n      return await httpJsonRequest(postData, measureCreateURL, \"POST\")\r\n  }\r\n  catch(ex){\r\n    console.log(\"ERROR sending measure data : \" + ex)\r\n    return null;\r\n  }\r\n}\r\n}\r\n\r\n/**\r\n * Requête JSON vers le backend\r\n * @param jsonData les paramètres de requêtes \r\n * @param url l'URL du backend\r\n * TODO refactor\r\n */\r\nasync function httpJsonRequest(jsonData, url, endpointMethod){\r\n  return new Promise(function (resolve, reject) {\r\n    console.log(\"sending : \")\r\n    console.log(jsonData)\r\n    request.post(url, {\r\n      method:endpointMethod,\r\n      body: JSON.stringify(jsonData),\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Content-Length': JSON.stringify(jsonData).length,\r\n      },\r\n  },   \r\n  function (error, response, body) {\r\n    console.log(\"finished\")\r\n    if (error) {\r\n      console.error('createMeasure failed:', error);\r\n      reject(null);\r\n    }\r\n    resolve(JSON.parse(body));\r\n  });\r\n  });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/MeasureService.ts","/**\r\n * Gestion des services de base d'accès aux données du front-end\r\n */\r\nimport * as request  from \"request\";\r\nimport * as conf from '../conf/ConfConstants';\r\n\r\nexport class MapService {\r\n  constructor(){}\r\n\r\n  /**\r\n   * Récupération données de la carte\r\n   * @param parameters les paramètres de l'application\r\n   * @param longitude la longitude actuelle\r\n   * @param latitude la latitude actuelle\r\n   */\r\n  async getMapDatas(parameters, latitude, longitude){\r\n    var mapDatasUrl = conf.ConfConstants.BACKEND_URL + conf.ConfConstants.MAPDATAS_URL;\r\n    try{\r\n      console.log(\"connecting to \" + mapDatasUrl);\r\n      var postData = {\r\n        \"parametres\" : parameters,\r\n        \"longitudeActuelle\" : longitude,\r\n        \"latitudeActuelle\" : latitude\r\n      };\r\n      return await httpJsonRequest(postData, mapDatasUrl, \"POST\")\r\n  }\r\n  catch(ex){\r\n    console.log(\"ERROR getting map data : \" + ex)\r\n    return null;\r\n  }\r\n}\r\n}\r\n\r\n/**\r\n * Requête JSON vers le backend\r\n * @param jsonData les paramètres de requêtes \r\n * @param url l'URL du backend\r\n */\r\nasync function httpJsonRequest(jsonData, url, endpointMethod){\r\n  return new Promise(function (resolve, reject) {\r\n    request.post(url, {\r\n      method:endpointMethod,\r\n      form: JSON.stringify(jsonData),\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Content-Length': JSON.stringify(jsonData).length,\r\n      },\r\n  },   \r\n  function (error, response, body) {\r\n    console.log(\"finished\")\r\n    if (error) {\r\n      console.error('getMap failed:', error);\r\n      reject(null);\r\n    }\r\n    resolve(JSON.parse(body));\r\n  });\r\n  });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/MapService.ts","/**\r\n * Gestion des fonctionnaités utilitaires de couleur de zones\r\n */\r\nclass ColorsUtil {\r\n  static percentColors = [\r\n    { pct: 0.0, color: { r: 0x00, g: 0x00, b: 0x00 } },\r\n    { pct: 0.5, color: { r: 0x66, g: 0x00, b: 0x66 } },\r\n    { pct: 1.0, color: { r: 0xFF, g: 0x00, b: 0x00 } } ];\r\n\r\n   static getRandomColor() {\r\n        var letters = '0123456789ABCDEF';\r\n        var color = '';\r\n        for (var i = 0; i < 6; i++) {\r\n          color += letters[Math.floor(Math.random() * 16)];\r\n        }\r\n        return color;\r\n      }\r\n\r\n    static getColorForPercentage = function(pct) {\r\n        var percentColors = ColorsUtil.percentColors;\r\n          for (var i = 1; i < percentColors.length - 1; i++) {\r\n              if (pct < percentColors[i].pct) {\r\n                  break;\r\n              }\r\n          }\r\n          var lower = percentColors[i - 1];\r\n          var upper = percentColors[i];\r\n          var range = upper.pct - lower.pct;\r\n          var rangePct = (pct - lower.pct) / range;\r\n          var pctLower = 1 - rangePct;\r\n          var pctUpper = rangePct;\r\n          var color = {\r\n              r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),\r\n              g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),\r\n              b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)\r\n          };\r\n          return '#' + [(\"00\" + (+color.r).toString(16)).slice(-2), (\"00\" + (+color.g).toString(16)).slice(-2), (\"00\" + (+color.b).toString(16)).slice(-2)].join('');\r\n          // or output as hex if preferred\r\n      }  \r\n      \r\n  }\r\n  \r\n  export { ColorsUtil as ColorsUtil};\n\n\n// WEBPACK FOOTER //\n// ./src/util/ColorsUtil.ts","var map = {\n\t\"./af\": 428,\n\t\"./af.js\": 428,\n\t\"./ar\": 429,\n\t\"./ar-dz\": 430,\n\t\"./ar-dz.js\": 430,\n\t\"./ar-kw\": 431,\n\t\"./ar-kw.js\": 431,\n\t\"./ar-ly\": 432,\n\t\"./ar-ly.js\": 432,\n\t\"./ar-ma\": 433,\n\t\"./ar-ma.js\": 433,\n\t\"./ar-sa\": 434,\n\t\"./ar-sa.js\": 434,\n\t\"./ar-tn\": 435,\n\t\"./ar-tn.js\": 435,\n\t\"./ar.js\": 429,\n\t\"./az\": 436,\n\t\"./az.js\": 436,\n\t\"./be\": 437,\n\t\"./be.js\": 437,\n\t\"./bg\": 438,\n\t\"./bg.js\": 438,\n\t\"./bm\": 439,\n\t\"./bm.js\": 439,\n\t\"./bn\": 440,\n\t\"./bn.js\": 440,\n\t\"./bo\": 441,\n\t\"./bo.js\": 441,\n\t\"./br\": 442,\n\t\"./br.js\": 442,\n\t\"./bs\": 443,\n\t\"./bs.js\": 443,\n\t\"./ca\": 444,\n\t\"./ca.js\": 444,\n\t\"./cs\": 445,\n\t\"./cs.js\": 445,\n\t\"./cv\": 446,\n\t\"./cv.js\": 446,\n\t\"./cy\": 447,\n\t\"./cy.js\": 447,\n\t\"./da\": 448,\n\t\"./da.js\": 448,\n\t\"./de\": 449,\n\t\"./de-at\": 450,\n\t\"./de-at.js\": 450,\n\t\"./de-ch\": 451,\n\t\"./de-ch.js\": 451,\n\t\"./de.js\": 449,\n\t\"./dv\": 452,\n\t\"./dv.js\": 452,\n\t\"./el\": 453,\n\t\"./el.js\": 453,\n\t\"./en-au\": 454,\n\t\"./en-au.js\": 454,\n\t\"./en-ca\": 455,\n\t\"./en-ca.js\": 455,\n\t\"./en-gb\": 456,\n\t\"./en-gb.js\": 456,\n\t\"./en-ie\": 457,\n\t\"./en-ie.js\": 457,\n\t\"./en-il\": 458,\n\t\"./en-il.js\": 458,\n\t\"./en-nz\": 459,\n\t\"./en-nz.js\": 459,\n\t\"./eo\": 460,\n\t\"./eo.js\": 460,\n\t\"./es\": 461,\n\t\"./es-do\": 462,\n\t\"./es-do.js\": 462,\n\t\"./es-us\": 463,\n\t\"./es-us.js\": 463,\n\t\"./es.js\": 461,\n\t\"./et\": 464,\n\t\"./et.js\": 464,\n\t\"./eu\": 465,\n\t\"./eu.js\": 465,\n\t\"./fa\": 466,\n\t\"./fa.js\": 466,\n\t\"./fi\": 467,\n\t\"./fi.js\": 467,\n\t\"./fo\": 468,\n\t\"./fo.js\": 468,\n\t\"./fr\": 469,\n\t\"./fr-ca\": 470,\n\t\"./fr-ca.js\": 470,\n\t\"./fr-ch\": 471,\n\t\"./fr-ch.js\": 471,\n\t\"./fr.js\": 469,\n\t\"./fy\": 472,\n\t\"./fy.js\": 472,\n\t\"./gd\": 473,\n\t\"./gd.js\": 473,\n\t\"./gl\": 474,\n\t\"./gl.js\": 474,\n\t\"./gom-latn\": 475,\n\t\"./gom-latn.js\": 475,\n\t\"./gu\": 476,\n\t\"./gu.js\": 476,\n\t\"./he\": 477,\n\t\"./he.js\": 477,\n\t\"./hi\": 478,\n\t\"./hi.js\": 478,\n\t\"./hr\": 479,\n\t\"./hr.js\": 479,\n\t\"./hu\": 480,\n\t\"./hu.js\": 480,\n\t\"./hy-am\": 481,\n\t\"./hy-am.js\": 481,\n\t\"./id\": 482,\n\t\"./id.js\": 482,\n\t\"./is\": 483,\n\t\"./is.js\": 483,\n\t\"./it\": 484,\n\t\"./it.js\": 484,\n\t\"./ja\": 485,\n\t\"./ja.js\": 485,\n\t\"./jv\": 486,\n\t\"./jv.js\": 486,\n\t\"./ka\": 487,\n\t\"./ka.js\": 487,\n\t\"./kk\": 488,\n\t\"./kk.js\": 488,\n\t\"./km\": 489,\n\t\"./km.js\": 489,\n\t\"./kn\": 490,\n\t\"./kn.js\": 490,\n\t\"./ko\": 491,\n\t\"./ko.js\": 491,\n\t\"./ky\": 492,\n\t\"./ky.js\": 492,\n\t\"./lb\": 493,\n\t\"./lb.js\": 493,\n\t\"./lo\": 494,\n\t\"./lo.js\": 494,\n\t\"./lt\": 495,\n\t\"./lt.js\": 495,\n\t\"./lv\": 496,\n\t\"./lv.js\": 496,\n\t\"./me\": 497,\n\t\"./me.js\": 497,\n\t\"./mi\": 498,\n\t\"./mi.js\": 498,\n\t\"./mk\": 499,\n\t\"./mk.js\": 499,\n\t\"./ml\": 500,\n\t\"./ml.js\": 500,\n\t\"./mn\": 501,\n\t\"./mn.js\": 501,\n\t\"./mr\": 502,\n\t\"./mr.js\": 502,\n\t\"./ms\": 503,\n\t\"./ms-my\": 504,\n\t\"./ms-my.js\": 504,\n\t\"./ms.js\": 503,\n\t\"./mt\": 505,\n\t\"./mt.js\": 505,\n\t\"./my\": 506,\n\t\"./my.js\": 506,\n\t\"./nb\": 507,\n\t\"./nb.js\": 507,\n\t\"./ne\": 508,\n\t\"./ne.js\": 508,\n\t\"./nl\": 509,\n\t\"./nl-be\": 510,\n\t\"./nl-be.js\": 510,\n\t\"./nl.js\": 509,\n\t\"./nn\": 511,\n\t\"./nn.js\": 511,\n\t\"./pa-in\": 512,\n\t\"./pa-in.js\": 512,\n\t\"./pl\": 513,\n\t\"./pl.js\": 513,\n\t\"./pt\": 514,\n\t\"./pt-br\": 515,\n\t\"./pt-br.js\": 515,\n\t\"./pt.js\": 514,\n\t\"./ro\": 516,\n\t\"./ro.js\": 516,\n\t\"./ru\": 517,\n\t\"./ru.js\": 517,\n\t\"./sd\": 518,\n\t\"./sd.js\": 518,\n\t\"./se\": 519,\n\t\"./se.js\": 519,\n\t\"./si\": 520,\n\t\"./si.js\": 520,\n\t\"./sk\": 521,\n\t\"./sk.js\": 521,\n\t\"./sl\": 522,\n\t\"./sl.js\": 522,\n\t\"./sq\": 523,\n\t\"./sq.js\": 523,\n\t\"./sr\": 524,\n\t\"./sr-cyrl\": 525,\n\t\"./sr-cyrl.js\": 525,\n\t\"./sr.js\": 524,\n\t\"./ss\": 526,\n\t\"./ss.js\": 526,\n\t\"./sv\": 527,\n\t\"./sv.js\": 527,\n\t\"./sw\": 528,\n\t\"./sw.js\": 528,\n\t\"./ta\": 529,\n\t\"./ta.js\": 529,\n\t\"./te\": 530,\n\t\"./te.js\": 530,\n\t\"./tet\": 531,\n\t\"./tet.js\": 531,\n\t\"./tg\": 532,\n\t\"./tg.js\": 532,\n\t\"./th\": 533,\n\t\"./th.js\": 533,\n\t\"./tl-ph\": 534,\n\t\"./tl-ph.js\": 534,\n\t\"./tlh\": 535,\n\t\"./tlh.js\": 535,\n\t\"./tr\": 536,\n\t\"./tr.js\": 536,\n\t\"./tzl\": 537,\n\t\"./tzl.js\": 537,\n\t\"./tzm\": 538,\n\t\"./tzm-latn\": 539,\n\t\"./tzm-latn.js\": 539,\n\t\"./tzm.js\": 538,\n\t\"./ug-cn\": 540,\n\t\"./ug-cn.js\": 540,\n\t\"./uk\": 541,\n\t\"./uk.js\": 541,\n\t\"./ur\": 542,\n\t\"./ur.js\": 542,\n\t\"./uz\": 543,\n\t\"./uz-latn\": 544,\n\t\"./uz-latn.js\": 544,\n\t\"./uz.js\": 543,\n\t\"./vi\": 545,\n\t\"./vi.js\": 545,\n\t\"./x-pseudo\": 546,\n\t\"./x-pseudo.js\": 546,\n\t\"./yo\": 547,\n\t\"./yo.js\": 547,\n\t\"./zh-cn\": 548,\n\t\"./zh-cn.js\": 548,\n\t\"./zh-hk\": 549,\n\t\"./zh-hk.js\": 549,\n\t\"./zh-tw\": 550,\n\t\"./zh-tw.js\": 550\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 903;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 903\n// module chunks = 0","/**\r\n * Représentation interne d'un réseau\r\n */\r\nexport class Reseau {\r\n    id:number;\r\n    ssid: string;\r\n  \r\n    constructor(id:number, ssid:string){\r\n        this.id = id;\r\n        this.ssid=ssid;\r\n    }\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/model/Reseau.model.ts","/**\r\n * Statistiques utilitaires\r\n */\r\nimport {Mesure} from \"../model/Mesure.model\";\r\nvar calculateConvexHull = require('geo-convex-hull')\r\n\r\n\r\nexport class MathUtil{\r\n    /**\r\n     * Retourne la moyenne d'une zone de plusieurs mesures\r\n     * @param mesures les mesures de la zone\r\n     */\r\n    static moyenneBandePassanteZone(mesures: Array<Mesure> ){\r\n        let moyenne : number= 0;\r\n        for(var i in mesures){\r\n            let mesure: Mesure = mesures[i];\r\n            moyenne += mesure.bandePassante;\r\n        }\r\n        return moyenne / mesures.length;\r\n    }\r\n\r\n    /**\r\n     * Retourne l'enveloppe convexe de la zone pour la constuction d'un polygone\r\n     * @param mesures \r\n     */\r\n    static getEnveloppeConvexe(mesures: Array<Mesure>) {\r\n        let points : Array<any> = mesures.map(m => <any>{latitude : m.lat, longitude: m.lon, id:m.id});\r\n        var boundaryPoints : Array<any> = calculateConvexHull(points);\r\n        console.log(boundaryPoints)\r\n        return mesures.filter( m => MathUtil.findWithAttr(boundaryPoints, 'id', m.id) != -1 );\r\n\r\n    }\r\n    private static findWithAttr(array, attr, value) {\r\n        for(var i = 0; i < array.length; i += 1) {\r\n            if(array[i][attr] === value) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    static angleFromCoordinate( lat1,  long1,  lat2,  long2) {\r\n        var dLon = (long2 - long1);\r\n        var y = Math.sin(dLon) * Math.cos(lat2);\r\n        var x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\r\n                * Math.cos(lat2) * Math.cos(dLon);\r\n        var brng = Math.atan2(y, x);\r\n        brng = (brng)* (180/Math.PI);\r\n        brng = (brng + 360) % 360;\r\n        brng = 360 - brng; // count degrees counter-clockwise - remove to make clockwise\r\n        return brng;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/MathUtil.ts"],"sourceRoot":""}